Всегда возвращай Content-Length

...в http-сервере. Думаешь, это очевидно? Колупаясь в исходниках различных фреймворков я заметил, что очень часто этот заголовок не возвращают. Типа, и так работает.

Это очень важный заголовок для множества не самого очевидного вебного софта: от исходящих до входящих проксей, от сервера до броузера. Увидев этот заголовок от софта, веб-сервер знает, когда нужно будет (или не нужно будет) закрывать http-соединение. Увидев этот заголовок, броузер знает, в какой момент больше не ждать загрузки ресурса и можно заканчивать его парсинг. KeepAlive нормально не работает без `Content-Length`. Корректная загрузка файла невозможна без `Content-Length`. Анализаторы сайтов не помогут с файлами неопределенных размеров.

`Content-Length` нужно ставить абсолютно всегда.

А еще можно воспользоваться HTTP статусом 204 (No content). 
